<!DOCTYPE html>
<meta charset="utf-8">

<style type="text/css">
  /*css to go here*/

  svg {
    border: 1px solid red; /*to keep track of the svg border... optional*/
  }

  .axis line { 
    stroke: #d0d0d0;
    stroke-dasharray: 4px 4px;
  }

  .rectangle {
    fill: white;
  }

</style>

<body>
  <h1>Chicago</h1>
  <div class="g-chart-container"></div>

</body>

<script src="https://d3js.org/d3.v4.min.js"></script>

<script>

var margin = {top: 5, right: 30, bottom: 20, left: 40};

var w = 800 - margin.left - margin.right,
    h = 400 - margin.top - margin.bottom;

var xscale = d3.scaleLinear()
  .domain([1970,2020]) //project this from data land...
  .range([0,w])//to pixel land

var yscale = d3.scaleLinear()
  .domain([0,45000])
  .range([h,0])

var xaxis = d3.axisBottom() //means the ticks will go below rather than above
  .scale(xscale)
  .tickFormat(d3.format("d"))
  .tickSize(-h);

var yaxis = d3.axisLeft()
  .scale(yscale)
  .tickSize(-w); //creates horiz dashed lines. we want the horizontal line size for the y axis to be the width

var chart = d3.select("body").append("svg")
    .attr("width", w + margin.left + margin.right)
    .attr("height", h + margin.top + margin.bottom)
  .append("g") //it's actually a g within an svg. technically a reference to my g from here on out
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")"); //?

d3.queue() //every new file gets a .defer
  .defer(d3.csv, "guns-history.csv")
  .defer(d3.json, "us.json")
  .await(ready);//when it's all done.. function I call is 'ready'

function ready(err, data, us){
  if (err) throw "error loading data";

  chart.append("rect")
    .attr("class", "rectangle")
      .attr("x", 0)
      .attr("y", 0)
      .attr("width", w)
      .attr("height", h);
      console.log("data", data);
      console.log("us", us);
  // //rendering my axis ticks and labels:
  // chart.append("g") //"g" is the parent group for the ticks
  //   .attr("class", "axis") //would give them all a class called axis
  //   .call(xaxis)
  //   .attr("transform", "translate(0," + h + ")"); //moves the x axis down

  // chart.append("g") //"g" stands for group
  //   .attr("class", "axis") //would give them all a class
  //   .call(yaxis);
    

  }
</script>
